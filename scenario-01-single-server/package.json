{
  "name": "scenario-01-single-server",
  "version": "1.0.0",
  "description": "System Design Scenario 1: The Single Server Problem",
  "main": "src/server.js",
  "scripts": {
    "start": "node src/server.js",
    "seed": "node db/seed.js",
    "loadtest": "node scripts/loadtest.js",
    "apply-fix": "psql postgresql://postgres:postgres@postgres:5432/feedapp -f db/fix.sql",
    "explain-query": "psql postgresql://postgres:postgres@postgres:5432/feedapp -c 'EXPLAIN ANALYZE SELECT * FROM posts ORDER BY created_at DESC LIMIT 20;'",
    "status": "node -e \"const {Pool} = require('pg'); const db = new Pool({host:'postgres',user:'postgres',password:'postgres',database:'feedapp'}); db.query('SELECT COUNT(*) FROM posts').then(r => { console.log('✅ Database ready. Posts in DB:', r.rows[0].count); db.end(); }).catch(() => { console.log('❌ Database not ready yet. Run: node scripts/wait-and-seed.js'); db.end(); })\""
  },
  "dependencies": {
    "express": "^4.18.2",
    "pg": "^8.11.3",
    "prom-client": "^15.1.0"
  },
  "devDependencies": {
    "autocannon": "^7.14.0"
  }
}
